---
layout: post
title: System篇小记(一)
date: 2013-12-08 02:51
author: DEMON
comments: true
categories: system
---
本篇没有什么特别的，只是记录一些小弟安装更新linux系统时一些小细节或容易出错的地方，希望对盆友们有些帮助，大牛飘过。

<span style="color: #00B050;">1.</span>安装Kali时，注意在选是否采用镜像源时选YES，此时，可能会出点问题，但我们在更新完以后可以在/etc/apt/source.list
里添加更新源，由于小弟并没有找到特别好的更新源，在这里也就不提供了。

<span style="color: #00B050;">2.</span>kali里不要安装scim(输入法),难用不说，还容易缺失文件。我用时apt-get update了数次，更新了几次源，无果，最后忍无可忍
直接rm scim*， 然后apt-get ibus ibus-pinyin. 这个需要在系统设置的首选项里启用，并且把汉语加入,完美解决。

<span style="color: #00B050;">3.</span>virtualbox共享盘：在虚拟机设置里需启用共享盘，vbox是不支持直接拖放的，在win下需要做盘符映射，linux下直接看不到盘符，
在media下sf_开头的文件即是共享盘符，嫌打开麻烦弄个软链接到根目录或者home目录即可。

<span style="color: #00B050;">4.</span>装完系统时少用upgrade,在系统装完后可执行一次update,一般就足够了。别问偶为啥，偶不会告诉你内核稍微出点问题，upgrade能把、
你辛辛苦苦装半天的东西以及各种配置删干净，update则少，不过还是少用为妙。

<span style="color: #00B050;">5.</span>visudo，号称能纠错避免sudo瘫痪，这里简单说下，sudo瘫痪了又没有启用root账号的话只有用livecd或者grub恢复了，下面会讲到。
感觉它还是需要root权限，里面有个纠错选项，据说可以防止语法错误，但估计是偶太笨了，窃以为不是特管用。

<span style="color: #00B050;">6.</span>sudoers ，这坑爹货需要root权限才能修改，还是只读文件。由于鄙人为了安全，平常喜欢sudo,想直接弄个空密码，试遍了网上各种方法，只总结了个
NOPASSWD，一个都不对，害的偶grub了好几次，机子差点完蛋。解决办法就是%sudo ALL=(ALL) NOPASSWD:ALL，重启（部分系统可以直接生效）
就OK了。

<span style="color: #ff0000;"><span style="color: #00B050;">7.</span><span style="color: #ffff99;">   </span></span>/etc/sudoers，也就是sudo的配置文件瘫痪后，需要liveCD救场或者grub恢复。偶试过了两种，跟大家分享下。
<span style="color: #ff0000;">（1）.liveCD</span>

用光盘开机,挂载你的硬盘,再把sudoers改回去,然后卸载硬盘，完工（中间仍会用到sudo命令)

<span style="color: #ff0000;">(2) grub</span>
#shift进入grub,按e选中recovery模式

#选中root账号
<img src="http://static.oschina.net/uploads/space/2013/0103/013547_fOIK_569120.jpg" alt="" />

# chmod 666 /dev/null
mount -o remount rw /

# nano /etc/sudoers
恢复本文件内容并存盘。
KO!

<span style="color: #ff0000;">=====Enjoy Yourself!====</span>

&nbsp;
